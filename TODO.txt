# TODO: –ú–æ–¥—É–ª—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞ MapInfo –¥–ª—è –≥—Ä–∞–¥–ø–ª–∞–Ω–∞

**–í–µ—Ç–∫–∞:** `feature/mapinfo-workspace`

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 13.12.2025

---

## üéØ –¶–ï–õ–¨ –ú–û–î–£–õ–Ø

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞ MapInfo –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏ –≥—Ä–∞–¥–ø–ª–∞–Ω–∞.

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** –í—ã–ø–∏—Å–∫–∞ –ï–ì–†–ù (PDF/XML)

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** –ê—Ä—Ö–∏–≤ ZIP —Å:
- TAB-—Ñ–∞–π–ª–∞–º–∏ —Å–ª–æ–µ–≤ (—É—á–∞—Å—Ç–æ–∫, –∑–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞, –û–ö–°, –ó–û–£–ò–¢)
- WOR-—Ñ–∞–π–ª–æ–º —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç–æ–π –∏ –æ—Ç—á–µ—Ç–æ–º
- Layout —Å —Ä–∞–º–∫–æ–π –ê3, —à—Ç–∞–º–ø–æ–º –∏ —É—Å–ª–æ–≤–Ω—ã–º–∏ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è–º–∏

---

## üìã –°–õ–û–ò –í –†–ê–ë–û–ß–ï–ú –ù–ê–ë–û–†–ï

1. ‚úÖ **–ó–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫** - —Å–æ–∑–¥–∞–µ–º TAB (–í–°–ï–ì–î–ê)
   - –ì—Ä–∞–Ω–∏—Ü–∞: —Å–ø–ª–æ—à–Ω–∞—è –ª–∏–Ω–∏—è 0.7 –º–º
   - –•–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —Ç–æ—á–∫–∏: –¥–∏–∞–º–µ—Ç—Ä 2 –º–º
   - –ù–æ–º–µ—Ä–∞ —Ç–æ—á–µ–∫: –≤—ã—Å–æ—Ç–∞ 5 –º–º

2. ‚úÖ **–ó–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞** - —Å–æ–∑–¥–∞–µ–º TAB (–í–°–ï–ì–î–ê)
   - –ü–æ–ª–∏–≥–æ–Ω = —É—á–∞—Å—Ç–æ–∫ —Å –±—É—Ñ–µ—Ä–æ–º -5–º (–æ—Ç—Å—Ç—É–ø –≤–Ω—É—Ç—Ä—å)
   - –ì—Ä–∞–Ω–∏—Ü–∞: –ª–∏–Ω–∏—è 1.2 –º–º
   - –ó–∞–ª–∏–≤–∫–∞: —à—Ç—Ä–∏—Ö–æ–≤–∫–∞ –ª–∏–Ω–∏—è–º–∏ 0.3 –º–º —á–µ—Ä–µ–∑ 4 –º–º –ø–æ–¥ 45¬∞

3. ‚úÖ **–û–ö–°** - —Å–æ–∑–¥–∞–µ–º TAB (–ü–†–ò –ù–ê–õ–ò–ß–ò–ò –≤ –≥—Ä–∞–Ω–∏—Ü–∞—Ö)
   - –ù–æ–º–µ—Ä–∞ –≤ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—è—Ö –¥–∏–∞–º–µ—Ç—Ä–æ–º 6 –º–º

4. ‚úÖ **–ó–û–£–ò–¢** - —Å–æ–∑–¥–∞–µ–º TAB (–ü–†–ò –ù–ê–õ–ò–ß–ò–ò –≤ –≥—Ä–∞–Ω–∏—Ü–∞—Ö)
   - –†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–æ–Ω

5. ‚úÖ **–ö—Ä–∞—Å–Ω—ã–µ –ª–∏–Ω–∏–∏** - –ø–æ–¥–∫–ª—é—á–∞–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞ (–í–°–ï–ì–î–ê)
   - –ü—É—Ç—å: `/mnt/graphics/NOVOKUZ/–ö—Ä–∞—Å–Ω—ã–µ_–ª–∏–Ω–∏–∏.TAB`
   - –¶–≤–µ—Ç: –∫—Ä–∞—Å–Ω—ã–π

---

## üìä –£–°–õ–û–í–ù–´–ï –û–ë–û–ó–ù–ê–ß–ï–ù–ò–Ø

**–í–°–ï–ì–î–ê –ø–æ–∫–∞–∑—ã–≤–∞–µ–º:**
- –ì—Ä–∞–Ω–∏—Ü—ã –∑–µ–º–µ–ª—å–Ω–æ–≥–æ —É—á–∞—Å—Ç–∫–∞
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –æ—Ç –≥—Ä–∞–Ω–∏—Ü –ó–£ (–∑–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)
- –ö—Ä–∞—Å–Ω—ã–µ –ª–∏–Ω–∏–∏

**–ü–†–ò –ù–ê–õ–ò–ß–ò–ò –ø–æ–∫–∞–∑—ã–≤–∞–µ–º:**
- –û–±—ä–µ–∫—Ç—ã –∫–∞–ø–∏—Ç–∞–ª—å–Ω–æ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
- –ó–û–£–ò–¢ (–∫–∞–∂–¥—ã–π —Ç–∏–ø –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π)

---

## ‚úÖ –≠–¢–ê–ü 1: –ü–û–î–ì–û–¢–û–í–ö–ê –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ ‚¨ú
```bash
git checkout -b feature/mapinfo-workspace
```
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** 
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 2: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –≤–µ—Ç–∫—É ‚¨ú
```bash
git status
git branch
```
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 2: BACKEND - –ü–†–û–í–ï–†–ö–ê –ü–ê–†–°–ï–†–û–í

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ –ï–ì–†–ù ‚¨ú
**–§–∞–π–ª:** `backend/parsers/egrn_parser.py`
**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≥—Ä–∞–Ω–∏—Ü —É—á–∞—Å—Ç–∫–∞
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–ª–æ—â–∞–¥–∏, –∞–¥—Ä–µ—Å–∞

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç ‚¨ú
**–¢–µ—Å—Ç:**
```python
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
# [(x1, y1), (x2, y2), ..., (xn, yn)]
```
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 3: BACKEND - –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–õ–û–ï–í

### –®–∞–≥ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ layers_config.py ‚¨ú
**–§–∞–π–ª:** `backend/core/layers_config.py`

**–ó–∞–¥–∞—á–∞:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø—É—Ç–∏ –∫ –∫—Ä–∞—Å–Ω—ã–º –ª–∏–Ω–∏—è–º
- –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤–∏—Ç—å:
```python
RED_LINES = Path(os.getenv(
    "LAYER_RED_LINES",
    "/mnt/graphics/NOVOKUZ/–ö—Ä–∞—Å–Ω—ã–µ_–ª–∏–Ω–∏–∏.TAB"
))
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 4: BACKEND - –ú–û–î–ï–õ–ò –î–ê–ù–ù–´–•

### –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ workspace_data.py ‚¨ú
**–§–∞–π–ª:** `backend/models/workspace_data.py`

**–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å—ã:**
```python
@dataclass
class ParcelLayer:
    """–°–ª–æ–π –∑–µ–º–µ–ª—å–Ω–æ–≥–æ —É—á–∞—Å—Ç–∫–∞"""
    cadnum: str
    coordinates: List[Tuple[float, float]]
    area: float
    address: str

@dataclass
class BuildingZoneLayer:
    """–°–ª–æ–π –∑–æ–Ω—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (–±—É—Ñ–µ—Ä -5–º)"""
    geometry: Polygon
    
@dataclass
class WorkspaceData:
    """–ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞"""
    parcel: ParcelLayer                    # –í–°–ï–ì–î–ê
    building_zone: BuildingZoneLayer       # –í–°–ï–ì–î–ê
    capital_objects: List[dict]            # –ü–†–ò –ù–ê–õ–ò–ß–ò–ò
    zouit: List[dict]                      # –ü–†–ò –ù–ê–õ–ò–ß–ò–ò
    red_lines_layer_path: str              # –í–°–ï–ì–î–ê (–ø—É—Ç—å –∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º—É —Ñ–∞–π–ª—É)
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 5: BACKEND - –ì–ï–ù–ï–†–ê–¢–û–† –ì–ï–û–ú–ï–¢–†–ò–ò

### –®–∞–≥ 7: –°–æ–∑–¥–∞–Ω–∏–µ geometry_builder.py ‚¨ú
**–§–∞–π–ª:** `backend/generator/geometry_builder.py`

**–§—É–Ω–∫—Ü–∏–∏:**
```python
def create_building_zone(parcel_coords: List[Tuple[float, float]]) -> Polygon:
    """
    –°–æ–∑–¥–∞–µ—Ç –∑–æ–Ω—É —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ —Å –æ—Ç—Å—Ç—É–ø–æ–º 5–º –≤–Ω—É—Ç—Ä—å –æ—Ç –≥—Ä–∞–Ω–∏—Ü –ó–£.
    
    Args:
        parcel_coords: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥—Ä–∞–Ω–∏—Ü —É—á–∞—Å—Ç–∫–∞
    
    Returns:
        Polygon —Å –±—É—Ñ–µ—Ä–æ–º -5–º
    """
    from shapely.geometry import Polygon
    
    parcel_polygon = Polygon(parcel_coords)
    building_zone = parcel_polygon.buffer(-5.0)  # –ú–∏–Ω—É—Å = –≤–Ω—É—Ç—Ä—å
    return building_zone
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 6: BACKEND - –ì–ï–ù–ï–†–ê–¢–û–† TAB-–§–ê–ô–õ–û–í

### –®–∞–≥ 8: –°–æ–∑–¥–∞–Ω–∏–µ tab_writer.py ‚¨ú
**–§–∞–π–ª:** `backend/generator/tab_writer.py`

**–§—É–Ω–∫—Ü–∏–∏:**

1. `create_parcel_tab(parcel_data, output_dir)` - –í–°–ï–ì–î–ê
   - –°—Ç–∏–ª—å: –ª–∏–Ω–∏—è 0.7 –º–º, —Ç–æ—á–∫–∏ –¥–∏–∞–º–µ—Ç—Ä 2 –º–º

2. `create_building_zone_tab(building_zone, output_dir)` - –í–°–ï–ì–î–ê
   - –°—Ç–∏–ª—å: –ª–∏–Ω–∏—è 1.2 –º–º, —à—Ç—Ä–∏—Ö–æ–≤–∫–∞ 0.3 –º–º —á–µ—Ä–µ–∑ 4 –º–º

3. `create_oks_tab(oks_list, output_dir)` - –ü–†–ò –ù–ê–õ–ò–ß–ò–ò
   - –°—Ç–∏–ª—å: –Ω–æ–º–µ—Ä–∞ –≤ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç—è—Ö 6 –º–º

4. `create_zouit_tab(zouit_list, output_dir)` - –ü–†–ò –ù–ê–õ–ò–ß–ò–ò
   - –°—Ç–∏–ª—å: —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ü–≤–µ—Ç–∞

**–ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É:** `geopandas` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è TAB-—Ñ–∞–π–ª–æ–≤

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 7: BACKEND - –ì–ï–ù–ï–†–ê–¢–û–† WOR-–§–ê–ô–õ–ê

### –®–∞–≥ 9: –°–æ–∑–¥–∞–Ω–∏–µ wor_builder.py ‚¨ú
**–§–∞–π–ª:** `backend/generator/wor_builder.py`

**–§—É–Ω–∫—Ü–∏–∏:**

1. `create_map_window()` - —Å–æ–∑–¥–∞–Ω–∏–µ Map Window
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∏–ª–µ–π

2. `create_layout_window()` - —Å–æ–∑–¥–∞–Ω–∏–µ Layout Window
   - –†–∞–º–∫–∞ –ê3
   - –®—Ç–∞–º–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
   - –ö–∞—Ä—Ç–∞ (frame)
   - –£—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è (legend)
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–µ—Ç–∫–∞

3. `create_wor_file()` - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
   - –û–±—ä–µ–¥–∏–Ω—è–µ—Ç Map –∏ Layout
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç WOR-—Ñ–∞–π–ª

**WOR-—Ñ–∞–π–ª** - —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç MapInfo

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 10: –°–æ–∑–¥–∞–Ω–∏–µ styles_config.py ‚¨ú
**–§–∞–π–ª:** `backend/generator/styles_config.py`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:**

```python
PARCEL_STYLE = {
    "line_width": 0.7,        # –º–º
    "line_color": "black",
    "point_diameter": 2,      # –º–º
    "label_height": 5,        # –º–º
}

BUILDING_ZONE_STYLE = {
    "line_width": 1.2,        # –º–º
    "hatch_width": 0.3,       # –º–º
    "hatch_spacing": 4,       # –º–º
    "hatch_angle": 45,        # –≥—Ä–∞–¥—É—Å—ã
}

OKS_STYLE = {
    "circle_diameter": 6,     # –º–º
    "label_height": 3,        # –º–º
}

RED_LINES_STYLE = {
    "line_color": "red",
    "line_width": 0.7,
}

ZOUIT_COLORS = ["yellow", "orange", "cyan", "magenta", "green"]

def get_legend_items(has_oks: bool, has_zouit: bool, zouit_types: list):
    """–§–æ—Ä–º–∏—Ä—É–µ—Ç —É—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è"""
    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 8: BACKEND - –ì–õ–ê–í–ù–´–ô –ú–û–î–£–õ–¨ –°–ë–û–†–ö–ò

### –®–∞–≥ 11: –°–æ–∑–¥–∞–Ω–∏–µ workspace_builder.py ‚¨ú
**–§–∞–π–ª:** `backend/generator/workspace_builder.py`

**–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:**
```python
def build_workspace(egrn_file: UploadFile) -> bytes:
    """
    –°–æ–∑–¥–∞–µ—Ç —Ä–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä MapInfo.
    
    Args:
        egrn_file: –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–∞—è –≤—ã–ø–∏—Å–∫–∞ –ï–ì–†–ù
    
    Returns:
        ZIP-–∞—Ä—Ö–∏–≤ —Å TAB-—Ñ–∞–π–ª–∞–º–∏ –∏ WOR-—Ñ–∞–π–ª–æ–º
    """
    # 1. –ü–∞—Ä—Å–∏–Ω–≥ –ï–ì–†–ù
    # 2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–æ–Ω—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
    # 3. –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
    # 4. –°–æ–∑–¥–∞–Ω–∏–µ TAB-—Ñ–∞–π–ª–æ–≤
    # 5. –°–æ–∑–¥–∞–Ω–∏–µ WOR-—Ñ–∞–π–ª–∞
    # 6. –£–ø–∞–∫–æ–≤–∫–∞ –≤ ZIP
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 9: BACKEND - API ENDPOINTS

### –®–∞–≥ 12: –°–æ–∑–¥–∞–Ω–∏–µ workspace.py ‚¨ú
**–§–∞–π–ª:** `backend/api/gp/workspace.py`

**Endpoints:**

1. `POST /api/gp/workspace/prepare`
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: –ï–ì–†–ù —Ñ–∞–π–ª
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: JSON —Å –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞ –∏ —Å—Ç–∞—Ç—É—Å–æ–º

2. `GET /api/gp/workspace/download/{filename}`
   - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ ZIP-–∞—Ä—Ö–∏–≤–∞

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 13: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ main.py ‚¨ú
**–§–∞–π–ª:** `backend/main.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
from api.gp.workspace import router as workspace_router

# –î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —Ä–æ—É—Ç–µ—Ä–æ–≤
app.include_router(workspace_router)

# –û–±–Ω–æ–≤–∏—Ç—å /api/health
"modules": {
    ...
    "workspace": "enabled",
}

# –û–±–Ω–æ–≤–∏—Ç—å /api/info
{
    "name": "Workspace",
    "prefix": "/api/gp/workspace",
    "description": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞ MapInfo",
    "endpoints": 2
}
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 10: FRONTEND - UI –ö–û–ú–ü–û–ù–ï–ù–¢–´

### –®–∞–≥ 14: –°–æ–∑–¥–∞–Ω–∏–µ WorkspaceFlow.jsx ‚¨ú
**–§–∞–π–ª:** `frontend/src/components/GP/WorkspaceFlow.jsx`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω:**
1. –ó–∞–≥—Ä—É–∂–∞—Ç—å –ï–ì–†–ù —Ñ–∞–π–ª
2. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–∫–∞
3. –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã:
   - –ó–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ (–≤—Å–µ–≥–¥–∞)
   - –ó–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞: —Å–æ–∑–¥–∞–Ω–∞ —Å –æ—Ç—Å—Ç—É–ø–æ–º 5–º
   - –û–ö–°: –Ω–∞–π–¥–µ–Ω–æ X –æ–±—ä–µ–∫—Ç–æ–≤ / –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
   - –ó–û–£–ò–¢: –Ω–∞–π–¥–µ–Ω–æ X –∑–æ–Ω / –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
   - –ö—Ä–∞—Å–Ω—ã–µ –ª–∏–Ω–∏–∏: –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
4. –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä"
5. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ ZIP-–∞—Ä—Ö–∏–≤–∞

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 15: –°–æ–∑–¥–∞–Ω–∏–µ WorkspaceFlow.css ‚¨ú
**–§–∞–π–ª:** `frontend/src/components/GP/WorkspaceFlow.css`

**–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è:**
- –ó–æ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
- –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º
- –¢–∞–±–ª–∏—Ü–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 16: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ api.js ‚¨ú
**–§–∞–π–ª:** `frontend/src/services/api.js`

**–î–æ–±–∞–≤–∏—Ç—å:**
```javascript
export const workspaceApi = {
  prepare: async (file) => {
    const formData = new FormData();
    formData.append('file', file);
    
    const response = await api.post('/api/gp/workspace/prepare', formData, {
      headers: { 'Content-Type': 'multipart/form-data' }
    });
    return response;
  },
  
  download: async (filename) => {
    const response = await api.get(`/api/gp/workspace/download/${filename}`, {
      responseType: 'blob'
    });
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
    const url = window.URL.createObjectURL(new Blob([response.data]));
    const link = document.createElement('a');
    link.href = url;
    link.setAttribute('download', filename);
    document.body.appendChild(link);
    link.click();
    link.remove();
    window.URL.revokeObjectURL(url);
    
    return response;
  }
};
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 11: FRONTEND - –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### –®–∞–≥ 17: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ App.js ‚¨ú
**–§–∞–π–ª:** `frontend/src/App.js`

**–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç:**
```javascript
import WorkspaceFlow from './components/GP/WorkspaceFlow';

// –í <Routes>
<Route path="/workspace" element={<WorkspaceFlow />} />
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 18: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ HomePage.jsx ‚¨ú
**–§–∞–π–ª:** `frontend/src/components/HomePage.jsx`

**–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É:**
```javascript
{
  title: 'üó∫Ô∏è –†–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä MapInfo',
  description: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏ –≥—Ä–∞–¥–ø–ª–∞–Ω–∞',
  path: '/workspace',
  icon: 'üó∫Ô∏è',
  color: '#722ed1'
}
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 12: –®–ê–ë–õ–û–ù–´ –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –®–∞–≥ 19: –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ ‚¨ú
**–ü–∞–ø–∫–∞:** `backend/templates/workspace/`

**–§–∞–π–ª—ã:**
1. `frame_a3.json` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–º–∫–∏ –ê3
2. `stamp.json` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —à—Ç–∞–º–ø–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
3. `legend_template.json` - —à–∞–±–ª–æ–Ω —É—Å–ª–æ–≤–Ω—ã—Ö –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–π

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 20: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è ‚¨ú

**–¢–µ—Å—Ç—ã:**

1. **–¢–µ—Å—Ç 1:** –£—á–∞—Å—Ç–æ–∫ –ë–ï–ó –û–ö–° –∏ –ó–û–£–ò–¢
   - –û–∂–∏–¥–∞–µ–º: —É—á–∞—Å—Ç–æ–∫ + –∑–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ + –∫—Ä–∞—Å–Ω—ã–µ –ª–∏–Ω–∏–∏
   - –õ–µ–≥–µ–Ω–¥–∞: 3 —ç–ª–µ–º–µ–Ω—Ç–∞

2. **–¢–µ—Å—Ç 2:** –£—á–∞—Å—Ç–æ–∫ –° –û–ö–°
   - –û–∂–∏–¥–∞–µ–º: —É—á–∞—Å—Ç–æ–∫ + –∑–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ + –û–ö–° + –∫—Ä–∞—Å–Ω—ã–µ –ª–∏–Ω–∏–∏
   - –õ–µ–≥–µ–Ω–¥–∞: 4 —ç–ª–µ–º–µ–Ω—Ç–∞

3. **–¢–µ—Å—Ç 3:** –£—á–∞—Å—Ç–æ–∫ –° –ó–û–£–ò–¢
   - –û–∂–∏–¥–∞–µ–º: —É—á–∞—Å—Ç–æ–∫ + –∑–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ + –ó–û–£–ò–¢ + –∫—Ä–∞—Å–Ω—ã–µ –ª–∏–Ω–∏–∏
   - –õ–µ–≥–µ–Ω–¥–∞: 4+ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ó–û–£–ò–¢ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤)

4. **–¢–µ—Å—Ç 4:** –£—á–∞—Å—Ç–æ–∫ –°–û –í–°–ï–ú
   - –û–∂–∏–¥–∞–µ–º: –≤—Å–µ —Å–ª–æ–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –±—É—Ñ–µ—Ä–∞ -5–º
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ WOR –≤ MapInfo

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## ‚úÖ –≠–¢–ê–ü 13: –§–ò–ù–ê–õ–ò–ó–ê–¶–ò–Ø

### –®–∞–≥ 21: –ù–∞–ø–∏—Å–∞–Ω–∏–µ README ‚¨ú
**–§–∞–π–ª:** `backend/api/gp/workspace/README.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª—è
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

### –®–∞–≥ 22: –ö–æ–º–º–∏—Ç –∏ –ø—É—à ‚¨ú

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
git add .
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω –º–æ–¥—É–ª—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ –Ω–∞–±–æ—Ä–∞ MapInfo

- –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ–µ–≤: —É—á–∞—Å—Ç–æ–∫, –∑–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞, –û–ö–°, –ó–û–£–ò–¢
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è WOR-—Ñ–∞–π–ª–∞ —Å –∫–∞—Ä—Ç–æ–π –∏ –æ—Ç—á–µ—Ç–æ–º
- Layout —Å —Ä–∞–º–∫–æ–π –ê3 –∏ —É—Å–ª–æ–≤–Ω—ã–º–∏ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ï–ì–†–ù –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –Ω–∞–±–æ—Ä–∞"

git push origin feature/mapinfo-workspace
```

**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç–æ
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:**
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

---

## üìä –ü–†–û–ì–†–ï–°–°

**–í—Å–µ–≥–æ —à–∞–≥–æ–≤:** 22
**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:** 0 ‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú‚¨ú
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 0%

---

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

1. **–§–æ—Ä–º–∞—Ç WOR-—Ñ–∞–π–ª–∞:**
   - –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç MapInfo
   - –°–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —Å–ª–æ–µ–≤, —Å—Ç–∏–ª–µ–π, layout

2. **–°–æ–∑–¥–∞–Ω–∏–µ TAB-—Ñ–∞–π–ª–æ–≤:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º `geopandas` —Å –¥—Ä–∞–π–≤–µ—Ä–æ–º MapInfo
   - –§–æ—Ä–º–∞—Ç: `.TAB`, `.DAT`, `.ID`, `.MAP`

3. **–ë—É—Ñ–µ—Ä -5–º:**
   - Shapely: `polygon.buffer(-5.0)`
   - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –æ—Ç—Å—Ç—É–ø –≤–Ω—É—Ç—Ä—å

4. **–£—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è:**
   - –í—Å–µ–≥–¥–∞: —É—á–∞—Å—Ç–æ–∫, –∑–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞, –∫—Ä–∞—Å–Ω—ã–µ –ª–∏–Ω–∏–∏
   - –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏: –û–ö–°, –ó–û–£–ò–¢

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì

**–ù–∞—á–∏–Ω–∞–µ–º —Å –®–ê–ì 1:** –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ `feature/mapinfo-workspace`

```bash
git checkout -b feature/mapinfo-workspace
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è TODO:** 13.12.2025
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 13.12.2025